(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6543],{17381:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(66700),i=n(19785);function a(e){return(0,i.Z)(1,arguments),Math.floor(function(e){return(0,i.Z)(1,arguments),(0,r.Z)(e).getTime()}(e)/1e3)}},63090:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/join",function(){return n(91141)}])},52012:function(e,t,n){"use strict";n.d(t,{My:function(){return d},Qb:function(){return g},p9:function(){return p}});var r=n(98788),i=n(50853),a=n(5632),o=/*#__PURE__*/n.n(a),s=n(42541),u=n(90581),c=n(17381),l=n(99669),f={defaultTTL:86400},m=new/*#__PURE__*/(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;(0,u.Z)(this,e),this._storage=t,this._options=n}var t=e.prototype;return t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._options.defaultTTL,r=(0,c.Z)(new Date);this._storage.setItem(e,{value:t,exp:r+n})},t.getItem=function(e){var t=this._storage.getItem(e);if(null==t||"object"!=typeof t)return t;if(!Reflect.has(t,"value")||!Reflect.has(t,"exp"))return console.warn('ExpiryLocalStorage.getItem("'.concat(e,'") - data is malformed'),t),null;var n=(0,c.Z)(new Date);return n>t.exp?(console.debug('ExpiryLocalStorage.getItem("'.concat(e,'") - data has expired ').concat(n-t.exp," seconds ago")),this._storage.removeItem(e),null):t.value},t.removeItem=function(e){this._storage.removeItem(e)},t.clear=function(){this._storage.clear()},e}())(l.J),h="auth/redirect";function p(e){m.setItem(h,e,900)}function d(){return m.getItem(h)}function g(e,t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(function(e,t){var n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:if(n=d(),console.debug("Redirect to ".concat(null!=n?n:e)),!n)return[3,2];return m.removeItem(h),s.Z.trackEvent("login-page","redirect_to_saved_path",{source:t,url:n,workspaceId:n.split("/")[2]}),[4,o().replace(n)];case 1:return r.sent(),[3,4];case 2:return[4,o().replace(e)];case 3:r.sent(),r.label=4;case 4:return[2]}})})).apply(this,arguments)}},91141:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r,i=n(52322),a=n(5632),o=n(66161),s=n(69023),u=n(98788),c=n(50853),l=n(2784),f=n(69071),m=n(2595),h=n(96933),p=n(11269),d=n(6021),g=n(59858),v=n(52012),_=n(95162),w=n(48617),x=n(87076),Z=n(94254);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){return /*#__PURE__*/l.createElement("svg",j({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/l.createElement("g",{fill:"var(--green-success)"},/*#__PURE__*/l.createElement("path",{d:"M6 0a3.499 3.499 0 100 6.996A3.499 3.499 0 106 0zM4 8.994a3.5 3.5 0 00-3.5 3.5v2.497h11v-2.497a3.5 3.5 0 00-3.5-3.5H4zM13 10h-.5v5h3v-2.5A2.5 2.5 0 0013 10z"}),/*#__PURE__*/l.createElement("path",{d:"M12 4a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"}))))},b=n(86330),T=/*#__PURE__*/n.n(b),y=/*#__PURE__*/(0,l.memo)(function(){var e,t=(0,l.useState)(),n=t[0],r=t[1],o=(0,m.Z)(),s=(0,a.useRouter)(),j=(0,g.Z)(),b=(0,h.aF)();(0,p.mZ)();var y=(0,f.Z)(d.Z),I=(0,l.useRef)();(0,l.useEffect)(function(){if(j){if(!j.length){I.current=setTimeout(function(){s.replace("/team/create")},500);return}clearTimeout(I.current)}},[j,s.replace]);var J=(0,l.useCallback)((e=(0,u.Z)(function(e){return(0,c.__generator)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),!n||!b)return[2];return[4,o.promise(y.execute(n,b.id,{origin:"page",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:if(t.sent(),!b.surveyData)return s.push("/user/survey"),[2];return(0,v.Qb)("/dashboard/all","team_join"),[2]}})}),function(t){return e.apply(this,arguments)}),[n,b,s.push,y.execute]);return j?/*#__PURE__*/(0,i.jsxs)(w.Z,{className:T().joinExistingTeamView,label:"Join Team",labelIcon:/*#__PURE__*/(0,i.jsx)(E,{}),title:"Join your teammates",children:[/*#__PURE__*/(0,i.jsx)(x.D,{teamsToJoin:j}),/*#__PURE__*/(0,i.jsx)("form",{id:"join-team-form",onSubmit:J,children:/*#__PURE__*/(0,i.jsx)(x.Z,{className:T().teams,onSelectionChange:r,teamsToJoin:j})}),/*#__PURE__*/(0,i.jsx)(Z.Z,{children:/*#__PURE__*/(0,i.jsx)(_.ZP,{form:"join-team-form",variant:_.ZP.Variants.REGULAR,size:_.ZP.Sizes.X_LARGE,disabled:!n,"data-testid":"join-team-button",children:"Join Team"})})]}):null}),I=function(){return(0,a.useRouter)().isReady?/*#__PURE__*/(0,i.jsx)(o.Z,{hideSplashOnLoad:!0,children:/*#__PURE__*/(0,i.jsx)(s.Z,{staticLogo:!0,children:/*#__PURE__*/(0,i.jsx)(y,{})})}):null}},86330:function(e){e.exports={joinExistingTeamView:"JoinExistingTeamView_joinExistingTeamView___aYZj",teams:"JoinExistingTeamView_teams__cOIdt"}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[2888],function(){return t(53078),t(63090)}),_N_E=e.O()}]);